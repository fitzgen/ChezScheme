@echo off
REM bldnt machine-name
echo (reset-handler abort) (base-exception-handler (lambda (c) (fresh-line) (display-condition c) (newline) (abort))) (case-sensitive #t) (optimize-level 2) (current-expand sc-expand) (generate-inspector-information #f) (subset-mode 'system) (compile-file "cmacros.ss" "cmacros.so") | ..\bin\%1\scheme -q --libdirs ..;.
echo (reset-handler abort) (base-exception-handler (lambda (c) (fresh-line) (display-condition c) (newline) (abort))) (case-sensitive #t) (optimize-level 2) (current-expand sc-expand) (generate-inspector-information #f) (subset-mode 'system) (compile-file "priminfo.ss" "priminfo.so") | ..\bin\%1\scheme -q --libdirs ..;. cmacros.so
echo (reset-handler abort) (base-exception-handler (lambda (c) (fresh-line) (display-condition c) (newline) (abort))) (case-sensitive #t) (optimize-level 2) (current-expand sc-expand) (subset-mode 'system) (compile-file "primvars.ss" "primvars.so") | ..\bin\%1\scheme -q --libdirs ..;. cmacros.so priminfo.so
echo (reset-handler abort) (base-exception-handler (lambda (c) (fresh-line) (display-condition c) (newline) (abort))) (case-sensitive #t) (optimize-level 2) (current-expand sc-expand) (subset-mode 'system) (compile-file "setup.ss" "setup.so") | ..\bin\%1\scheme -q --libdirs ..;. cmacros.so priminfo.so
echo (reset-handler abort) (base-exception-handler (lambda (c) (fresh-line) (display-condition c) (newline) (abort))) (case-sensitive #t) (optimize-level 2) (current-expand sc-expand) (generate-inspector-information #f) (collect-trip-bytes (expt 2 24)) (collect-request-handler (lambda () (collect 0 1))) (collect 1 2) (compile-library "../nanopass/nanopass.ss" "nanopass.so") |  ..\bin\%1\scheme -q --libdirs "..\nanopass;;." --compile-imported-libraries
..\bin\%1\scheme -q --libdirs ..;. cmacros.so priminfo.so primvars.so setup.so --script script.all
